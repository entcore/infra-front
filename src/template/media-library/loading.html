<div class="split-screen" ng-class="{ split: display.editedDocument !== undefined }">
    <div class="loading-list drop-zone">
        <ul>
            <li ng-repeat="doc in upload.documents" 
                ng-click="openCompression(doc)" 
                ng-class="{ 'image-file': doc.isEditableImage && doc.status === 'loaded', 'loading': doc.status === 'loading' }"
            >
                <div class="cell icon">
                    <i class="[[doc.role()]]"></i>
                    <i class="edit" ng-if="doc.isEditableImage && doc.status === 'loaded'"></i>
                </div>
                <div class="title">[[doc.title]]</div>
                <div class="right-magnet size">
                    [[doc.size]]
                </div>
                <i class="right-magnet" ng-class="{ 
                    loading: doc.status === 'loading',
                    loaded: doc.status === 'loaded',
                    failed: doc.status === 'failed'
                }"></i>
                <i class="close" ng-click="abortOrDelete(doc)"></i>
            </li>
        </ul>
    </div>
    
    <div ng-if="display.editedDocument" class="compression">
        <div class="compression-view">
            <a class="cell to-list" ng-click="closeCompression()">
                <i class="back"></i><i18n>medialibrary.backtolist</i18n>
            </a>
            <h2 class="document-title"><i class="back" ng-click="display.editedDocument = undefined"></i>[[display.editedDocument.title]]</h2>
            <button type="button" class="cancel right-magnet zero-mobile" ng-click="editImage()"><i18n>medialibrary.editImage</i18n></button>
            <i class="back nav-arrow" ng-if="!isEditedFirst()" ng-click="previousImage()"></i>
            <i class="forward nav-arrow" ng-if="!isEditedLast()" ng-click="nextImage()"></i>
            <div ng-if="display.compressionReady"><image-compression document="display.editedDocument"></image-compression></div>
        </div>
    </div>
</div>
<div class="row">
    <button class="right-magnet" ng-click="confirmImport()"><i18n>import</i18n></button>
    <button class="right-magnet cancel" ng-click="cancelUpload()"><i18n>cancel</i18n></button>
</div>